--- ./Makefile~	2005-10-03 17:38:46.000000000 +0300
+++ ./Makefile	2005-10-03 17:38:48.000000000 +0300
@@ -3,8 +3,8 @@
 #
 
 # This directory is where we will look for openvpn-plugin.h
-OPENVPN?=	/usr/local/src/openvpn-2.0_rc17
-LDAP?=		/usr/local/
+OPENVPN?=	/usr/include/openvpn
+LDAP?=		/usr
 
 INCLUDE=	-I$(OPENVPN) -I$(LDAP)/include -I.
 LDFLAGS=	-L$(LDAP)/lib
@@ -12,13 +12,13 @@
 CFLAGS=		-g -O2 -Wall -fPIC $(INCLUDE)
 OBJCFLAGS=	$(CFLAGS) -fno-strict-aliasing
 LIBS=		-lldap -lobjc -lpthread
-OBJS=		auth-ldap.o LFString.o LFLDAPConnection.o LFAuthLDAPConfig.o
+OBJS=		auth-ldap.m.o LFString.m.o LFLDAPConnection.m.o LFAuthLDAPConfig.m.o
 TEST_OBJS=	$(OBJS) test.o
 
-.c.o:
+%.c.o:
 	gcc -c $< -o $@ ${CFLAGS}
 
-.m.o:
+%.m.o: %.m
 	gcc -c $< -o $@ ${OBJCFLAGS}
 
 openvpn-auth-ldap.so : $(OBJS)
--- ./Makefile~	2005-10-03 17:41:33.000000000 +0300
+++ ./Makefile	2005-10-03 17:41:35.000000000 +0300
@@ -9,7 +9,8 @@
 INCLUDE=	-I$(OPENVPN) -I$(LDAP)/include -I.
 LDFLAGS=	-L$(LDAP)/lib
 
-CFLAGS=		-g -O2 -Wall -fPIC $(INCLUDE)
+OPTFLAGS=	-g -O2
+CFLAGS=		-Wall -fPIC $(INCLUDE)
 OBJCFLAGS=	$(CFLAGS) -fno-strict-aliasing
 LIBS=		-lldap -lobjc -lpthread
 OBJS=		auth-ldap.m.o LFString.m.o LFLDAPConnection.m.o LFAuthLDAPConfig.m.o
--- ./Makefile~	2005-10-03 18:49:02.000000000 +0300
+++ ./Makefile	2005-10-03 18:49:04.000000000 +0300
@@ -12,7 +12,7 @@
 OPTFLAGS=	-g -O2
 CFLAGS=		-Wall -fPIC $(INCLUDE)
 OBJCFLAGS=	$(CFLAGS) -fno-strict-aliasing
-LIBS=		-lldap -lobjc -lpthread
+LIBS=		-lldap -lobjc -lpthread -lstrlcpy
 OBJS=		auth-ldap.m.o LFString.m.o LFLDAPConnection.m.o LFAuthLDAPConfig.m.o
 TEST_OBJS=	$(OBJS) test.o
 
